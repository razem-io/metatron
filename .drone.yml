workspace:
  base: /metaron
  path: src/github.com/razem-io/metatron

pipeline:
  build:
    image: hseeberger/scala-sbt:8u181_2.12.8_1.2.8
    commands:
    - sbt assembly
  github_release:
    image: plugins/github-release
    secrets: [ github_release_api_key ]
    files:
    - target/scala-2.12/metatron-${DRONE_TAG}.jar
    checksum:
    - sha512
    when:
      event: tag